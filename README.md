# ChaosGit

Git初学者に向けた，リポジトリの障害（ユーザが意図しないリポジトリの状態を指す）の自動導入と，チーム活動を通してその検知・修復を行う学習支援システムである．
サーバサイドプログラムである**server_app.js**と**server_term.js**をLinuxディストリビューション上で実行し，Windowsで本Webアプリケーションを利用する．

## **テスト動作環境** 
クライアントサイド：Windows 11

サーバサイド：Windows11/VirtualBox/Manjaro Linux x86_64



## **被験者の準備手順** 
1. mainブランチのソースコードをZIP形式でダウンロードし，任意の場所に解凍する．
2. VSCodeで下記の3つのファイル内に記載されているアドレスを実験者がその場で指定したアドレスに変更する．
  - Kitamoto-LastProject/js/term.jsの19行目あたり
  - Kitamoto-LastProject/js/scenes/MainGameScene.jsの260行目あたり
  - Kitamoto-LastProject/js/scenes/RegisterScene.jsの19行目あたり
3. VSCodeに拡張機能**Live Server**(publisherがRitwick Deyと書いてあるもの)をインストールする．
4. Kitamoto-LastProject/index.htmlをVSCodeのエクスプローラ上で右クリックし，"Open with Live Server"をクリックする．
5. 「開始」と書かれた画面がブラウザで表示されたら，**実験者の指示があるまで待機する**．


※被験者の準備作業はここまで

## **実験者の準備手順**
1. Linuxマシンで以下を実行し，ローカルIPアドレスを確認する．192.168で始まるローカルIPアドレスを確認する．
```
$ ip addr
```

2. 可能であれば被験者のマシン上で以下を実行し，接続を確認する．（やらなくてもいい）
```
$ ping <LinuxマシンのローカルIPアドレス>
```

3. server_app.jsの以下の部分にローカルIPアドレスを追加する
```
app.use(cors({ origin: ['http://127.0.0.1:5501', 'http://192.168.xx.xx:8080']}));
```

4. server_term.jsに記載されている以下のファイルパスをサーバ環境に応じたものに変更する
```
const initialDirectory = '/home/Dagechan/Projects/Bachelor/workspace';
```

5. Linuxマシンで以下を実行し，サーバを準備する．
```
$ node server_app.js
```
```
$ node server_term.js
```

## **画面説明** 
### タイトル画面
![image](https://github.com/user-attachments/assets/18e44045-8125-45a0-96e3-e2c0b428fdeb)
- **開始ボタン**: このボタンを押すことでチームメンバ募集画面へ遷移する．

### チームメンバ募集画面
![image](https://github.com/user-attachments/assets/046fc43e-bd37-4aed-a14a-03b675418eb3)
- チームメンバがあなた自身を含んで3人になると自動的にメイン画面へ遷移します．

### メイン画面（タスク提示画面）
![ChaosGit_screen1](https://github.com/user-attachments/assets/0096198c-bee0-47cf-b50e-1d23676605b7)
- **タスク提示メッセージウィンドウ**： 白いメッセージウィンドウに基本的なリポジトリ操作を伴うタスク内容が表示されている．現段階では12個のタスクが用意されている．
- **タスク進捗マップ**: 画面中央に12まで数字が書いてあるマスの上を，タスクの進捗具合に合わせてキャラクタのスプライトが移動する．マスの数字はタスク番号と対応している．
- **Reportボタン**: リポジトリ障害をチーム全員に報告するためのボタン．このボタンを押下するとディスカッションモードに遷移する．
- **Terminalボタン**: Bashターミナルを新しいブラウザタブで起動し，LinuxサーバをCLIで操作することができる．このターミナル上でリポジトリを操作したり，Vimでファイルを編集したりできる．
- **Checkボタン**: 提示されたタスクを実行できたと思った段階でこのボタンを押下する．そうするとBotがタスクを完了できたかを確認する．
- **GitHubボタン**: タスクの進行において使用するGitHubリモートリポジトリをブラウザ上で開くためのボタン．実験グループごとに新しいリポジトリを作って，このボタンを押してそのURLへ飛ぶようにコードを書き換える必要がある．

### ディスカッションモード画面
![image](https://github.com/user-attachments/assets/57f74387-a009-4c73-8b77-cf15d25f654d)
- **Terminalボタン**: このボタンの動作はメイン画面での同名のボタンと全く同じ．ディスカッション中にもターミナルを起動できるという利便性のために設置したボタン．
- **Backボタン**: ディスカッションが終了した段階でこのボタンを押す．このボタンを押すと，メイン画面へ画面が遷移する．
- **＜ディスカッション進行方法＞**
  - Reportボタンを押下したユーザ（以下報告者と呼ぶ）は，他のユーザに対してどのようなリポジトリ障害が発生したのかを共有する．
  - 報告者は，説明をしたユーザに対して内容が理解できたかを問い，理解できていない旨の返答があった場合は理解できるまで説明に努める．
  - チームメンバ全員で話し合って，どういう方法でリポジトリ障害を修復するかを相談する．
  - リポジトリ障害を修復する担当者を，**報告者以外の内から1人**を選んで決める．
  - Backボタンを押下してメイン画面へ戻り，担当者はリポジトリ障害の修復を担当する．
